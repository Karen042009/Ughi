# Ughi (ÕˆÖ‚Õ²Õ«) - Õ€Õ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶Õ« Õ¡Õ¶Õ¾Õ¿Õ¡Õ¶Õ£Õ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ¸Ö‚Õ²Õ¥ÖÕ¸Ö‚ÕµÖ - Complete Guide

## ğŸ“– Table of Contents

1. [Project Overview](#project-overview)
2. [Features](#features)
3. [Auto Setup & Installation](#auto-setup--installation)
4. [Database Management](#database-management)
5. [Admin Panel](#admin-panel)
6. [API Endpoints](#api-endpoints)
7. [Technical Details](#technical-details)
8. [Usage Examples](#usage-examples)
9. [Armenian Places](#armenian-places)
10. [Troubleshooting](#troubleshooting)
11. [Future Development](#future-development)

---

## ğŸ¯ Project Overview

Ughi-Õ¶ (ÕˆÖ‚Õ²Õ«) Õ´Õ«Õ¡ÕµÕ¶Õ¡Õ¯ Õ³Õ¡Õ¶Õ¡ÕºÕ¡Ö€Õ°Õ¸Ö€Õ¤Õ¶Õ¥Ö€Õ« Õ°Õ¡Õ´Õ¡Ö€ Õ¶Õ¡Õ­Õ¡Õ¿Õ¥Õ½Õ¾Õ¡Õ® Õ¾Õ¥Õ¢ Õ°Õ¡Õ¾Õ¥Õ¬Õ¾Õ¡Õ® Õ§, Õ¸Ö€Õ¨ Ö…Õ£Õ¶Õ¸Ö‚Õ´ Õ§ Õ£Õ¿Õ¶Õ¥Õ¬ Õ€Õ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶Õ¸Ö‚Õ´ Õ¡Õ¶Õ¾Õ¿Õ¡Õ¶Õ£ Ö‡ Õ¾Õ½Õ¿Õ¡Õ°Õ¥Õ¬Õ« Õ¾Õ¡ÕµÖ€Õ¥Ö€: Õ€Õ¡Õ¾Õ¥Õ¬Õ¾Õ¡Õ®Õ¨ Õ¶Õ¥Ö€Õ¡Õ¼Õ¸Ö‚Õ´ Õ§ Ö„Õ¡Ö€Õ¿Õ¥Õ¦, Õ¾Õ¡ÕµÖ€Õ¥Ö€Õ« ÖÕ¸Ö‚ÖÕ¡Õ¯ Ö‡ Õ¯Õ¡Ö€Õ®Õ«Ö„Õ¶Õ¥Ö€Õ« Õ°Õ¡Õ´Õ¡Õ¯Õ¡Ö€Õ£:

### ğŸŒŸ What's New in Version 2.0

- **ğŸš€ Auto Setup**: Automatic database initialization and admin user creation
- **ğŸ“Š Enhanced Admin Panel**: Comprehensive business, review, and user management
- **ğŸ” User Authentication**: Secure login system with role-based access
- **ğŸ“ˆ Statistics Dashboard**: Real-time system statistics and analytics
- **ğŸ”„ Bulk Operations**: Manage multiple items simultaneously

---

## âœ¨ Features

### ğŸ—ºï¸ Core Features

- **Ô»Õ¶Õ¿Õ¥Ö€Õ¡Õ¯Õ¿Õ«Õ¾ Ö„Õ¡Ö€Õ¿Õ¥Õ¦** - Leaflet-Õ¸Õ¾ Õ½Õ¿Õ¥Õ²Õ®Õ¾Õ¡Õ® Ö„Õ¡Ö€Õ¿Õ¥Õ¦ Õ€Õ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶Õ« Õ¾Õ¡ÕµÖ€Õ¥Ö€Õ¸Õ¾
- **ÕÕ¡ÕµÖ€Õ¥Ö€Õ« ÖÕ¸Ö‚ÖÕ¡Õ¯** - Ô²Õ¸Õ¬Õ¸Ö€ Õ¾Õ¡ÕµÖ€Õ¥Ö€Õ« ÖÕ¸Ö‚ÖÕ¡Õ¯Õ Õ£Õ¶Õ¡Õ°Õ¡Õ¿Õ¡Õ¯Õ¡Õ¶Õ¶Õ¥Ö€Õ¸Õ¾
- **Ô¿Õ¡Ö€Õ®Õ«Ö„Õ¶Õ¥Ö€Õ« Õ°Õ¡Õ´Õ¡Õ¯Õ¡Ö€Õ£** - Õ‡Ö€Õ»Õ¡Õ·Ö€Õ»Õ«Õ¯Õ¶Õ¥Ö€Õ« Ö‡ Õ¡Õ·Õ­Õ¡Õ¿Õ¡Õ¯Õ«ÖÕ¶Õ¥Ö€Õ« Õ¯Õ¡Ö€Õ®Õ«Ö„Õ¶Õ¥Ö€
- **Ô²Õ¡Õ¦Õ´Õ¡Õ¬Õ¥Õ¦Õ¸Ö‚ Õ¡Õ»Õ¡Õ¯ÖÕ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶** - Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶, Õ¡Õ¶Õ£Õ¬Õ¥Ö€Õ¥Õ¶ Ö‡ Õ¼Õ¸Ö‚Õ½Õ¥Ö€Õ¥Õ¶
- **ÔˆÖ€Õ¸Õ¶Õ´Õ¡Õ¶ Ö†Õ¸Ö‚Õ¶Õ¯ÖÕ«Õ¡** - ÕÕ¡ÕµÖ€Õ¥Ö€ Õ¸Ö€Õ¸Õ¶Õ¥Õ¬ Õ¨Õ½Õ¿ Õ¡Õ¶Õ¾Õ¡Õ¶ Õ¯Õ¡Õ´ Õ¿Õ¥Õ½Õ¡Õ¯Õ«
- **ğŸ‘¨â€ğŸ’¼ Admin ÕºÕ¡Õ¶Õ¥Õ¬** - ÕÕ¡ÕµÖ€Õ¥Ö€ Õ¡Õ¾Õ¥Õ¬Õ¡ÖÕ¶Õ¥Õ¬Õ¸Ö‚ Ö‡ Õ¯Õ¡Õ¼Õ¡Õ¾Õ¡Ö€Õ¥Õ¬Õ¸Ö‚ Õ°Õ¡Õ´Õ¡Ö€

### ğŸ›ï¸ Business Types

- **Hotel** - Õ€ÕµÕ¸Ö‚Ö€Õ¡Õ¶Õ¸ÖÕ¶Õ¥Ö€
- **Restaurant** - ÕŒÕ¥Õ½Õ¿Õ¸Ö€Õ¡Õ¶Õ¶Õ¥Ö€
- **Attraction** - ÕÕ¥Õ½Õ¡Ö€ÕªÕ¡Õ¶ Õ¾Õ¡ÕµÖ€Õ¥Ö€
- **Museum** - Ô¹Õ¡Õ¶Õ£Õ¡Ö€Õ¡Õ¶Õ¶Õ¥Ö€
- **Cafe** - Ô¿Õ¡Ö†Õ¥Õ¶Õ¥Ö€

---

## ğŸš€ Auto Setup & Installation

### âœ¨ What Auto Setup Does

When you activate `run.py`, the system automatically performs:

1. **ğŸ“Š Database Initialization** - Creates SQLite database
2. **ğŸ—ï¸ Table Creation** - Creates all necessary tables
3. **ğŸ›ï¸ Armenian Places** - Automatically adds all Armenian places
4. **ğŸ’¬ Sample Reviews** - Creates sample reviews in 3 languages
5. **ğŸ‘¤ Admin User** - Creates admin account

### ğŸ¯ How to Use

#### Option 1: Auto Setup + Server

```bash
cd ughi_sqlalchemy_mvp
python run.py
```

#### Option 2: Database Only

```bash
cd ughi_sqlalchemy_mvp
python quick_init.py
```

### ğŸ” Admin Access After Setup

- **URL**: `http://localhost:5000/admin`
- **Username**: `admin`
- **Password**: `admin`

âš ï¸ **IMPORTANT**: Change the default password after first login!

### ğŸ“‹ What Gets Created

#### ğŸ›ï¸ Armenian Places

- All places from `armenian_places.py` file
- Different types (museum, church, monument, etc.)
- Coordinates and descriptions

#### ğŸ’¬ Reviews

- **Armenian** - 10 different reviews
- **English** - 10 different reviews
- **Russian** - 10 different reviews
- 2-4 reviews per place
- Ratings 3-5 stars

#### ğŸ‘¥ Users

- **Admin** - `admin` / `admin` (full permissions)
- **Moderator** - `moderator` / `mod123` (moderation permissions)
- **User** - `user` / `user123` (basic user)

### ğŸ”„ Repeated Activation

If you activate `run.py` again:

- âœ… Database already exists
- âœ… Tables already created
- âœ… Armenian places already added
- âœ… Admin user already exists
- ğŸš€ Server starts

---

## ğŸ—„ï¸ Database Management

### ğŸ“Š Database Structure

#### Business Table

- `id` - Unique identifier
- `name` - Place name
- `type` - Place type
- `latitude` - Latitude
- `longitude` - Longitude

#### Review Table

- `id` - Unique identifier
- `business_id` - Place ID
- `rating` - Rating (1-5)
- `comment` - Comment
- `author_type` - Author type (Tourist/Employee)
- `created_at` - Creation date

#### User Table

- `id` - Unique identifier
- `username` - Username
- `email` - Email address
- `role` - User role (admin/moderator/user)
- `password_hash` - Encrypted password

### ğŸ› ï¸ Manual Database Operations

#### Initialize Database

```bash
python init_db_armenian.py
```

#### Create Admin User

```bash
python create_admin_user.py
```

---

## ğŸ‘¨â€ğŸ’¼ Admin Panel

### ğŸš€ New Features

#### 1. **Statistics Dashboard**

- **Real-time Statistics**: View total businesses, reviews, users, and average ratings
- **Visual Charts**: Rating distribution and business type charts
- **Recent Activity**: Track activity from the last 7 days

#### 2. **Enhanced Business Management**

- **Edit Functionality**: Modify existing business details
- **Bulk Operations**: Select and delete multiple businesses
- **Search & Filter**: Find businesses quickly
- **Export Data**: Download all data as JSON

#### 3. **Advanced Review Management**

- **Edit Reviews**: Modify rating, comment, and author type
- **Bulk Operations**: Select and delete multiple reviews
- **Contextual Display**: Reviews shown when business is selected

#### 4. **User Management System**

- **User Authentication**: Secure login system
- **Role-based Access**: Admin, Moderator, and User roles
- **User CRUD**: Create, read, update, and delete users
- **Bulk Operations**: Manage multiple users
- **Account Status**: Activate/deactivate accounts

### ğŸ” Authentication & Security

#### Login System

- **Secure Login**: Username/password authentication
- **Session Management**: Persistent login sessions
- **Logout**: Secure session termination

#### Access Control

- **Protected Routes**: All admin functions require authentication
- **Role-based Access**: Different permissions for different roles
- **Session Security**: Secure session handling

### ğŸ“± User Interface

#### Responsive Design

- **Mobile Friendly**: Works on all device sizes
- **Modern UI**: Clean, intuitive interface
- **Armenian Language**: Full Armenian language support

#### Interactive Elements

- **Modals**: Clean forms for editing and adding
- **Toast Notifications**: User feedback for actions
- **Real-time Updates**: Statistics and data refresh automatically
- **Smooth Animations**: Professional user experience

---

## ğŸ”Œ API Endpoints

### Authentication

- `POST /admin/login` - User login
- `GET /admin/logout` - User logout

### User Management

- `GET /api/admin/users` - List all users
- `POST /api/admin/users` - Create new user
- `PUT /api/admin/users/<id>` - Update user
- `DELETE /api/admin/users/<id>` - Delete user
- `POST /api/admin/users/bulk-delete` - Bulk delete users

### Business Management

- `POST /api/admin/businesses` - Create business
- `PUT /api/admin/businesses/<id>` - Update business
- `DELETE /api/admin/businesses/<id>` - Delete business
- `POST /api/admin/businesses/bulk-delete` - Bulk delete businesses
- `POST /api/admin/businesses/reorder` - Reorder businesses

### Review Management

- `PUT /api/admin/reviews/<id>` - Update review
- `DELETE /api/admin/reviews/<id>` - Delete review
- `POST /api/admin/reviews/bulk-delete` - Bulk delete reviews

### Statistics & Export

- `GET /api/admin/statistics` - Get system statistics
- `GET /api/admin/export` - Export all data

---

## ğŸ› ï¸ Technical Details

### ğŸ—ï¸ Architecture

- **Backend**: Flask + SQLAlchemy
- **Database**: SQLite
- **Frontend**: HTML + CSS + JavaScript
- **Maps**: Leaflet.js
- **Icons**: Font Awesome

### ğŸ“ File Structure

- `run.py` - Main server + auto setup
- `quick_init.py` - Quick database initialization
- `init_db_armenian.py` - Manual database initialization
- `create_admin_user.py` - Manual admin user creation
- `config.py` - Configuration settings

### âš™ï¸ Configuration

- **Database File**: `instance/ughi.db`
- **Database Type**: SQLite
- **Configuration**: `config.py`

---

## ğŸ¯ Usage Examples

### Adding a New Business

#### Via Admin Panel

1. Navigate to "Ô±Õ¾Õ¥Õ¬Õ¡ÖÕ¶Õ¥Õ¬ Õ¶Õ¸Ö€ Õ¾Õ¡ÕµÖ€" section
2. Fill in business name, type, and coordinates
3. Click "Ô±Õ¾Õ¥Õ¬Õ¡ÖÕ¶Õ¥Õ¬"
4. Business appears in the businesses list

#### Via Code

Edit `armenian_places.py` file:

```python
{
    "name": "Õ†Õ¸Ö€ Õ¾Õ¡ÕµÖ€Õ« Õ¡Õ¶Õ¸Ö‚Õ¶Õ¨",
    "type": "Attraction",
    "latitude": 40.1234,
    "longitude": 44.5678,
    "description": "ÕÕ¡ÕµÖ€Õ« Õ¶Õ¯Õ¡Ö€Õ¡Õ£Ö€Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶Õ¨"
}
```

Then reinitialize database:

```bash
python init_db_armenian.py
```

### Managing Reviews

1. Select a business from the businesses list
2. View existing reviews
3. Add new reviews with ratings and comments
4. Edit or delete existing reviews

### User Management

1. Go to "Õ•Õ£Õ¿Õ¡Õ¿Õ¥Ö€Õ¥Ö€Õ« Õ¯Õ¡Õ¼Õ¡Õ¾Õ¡Ö€Õ¸Ö‚Õ´" section
2. Click "Ô±Õ¾Õ¥Õ¬Õ¡ÖÕ¶Õ¥Õ¬ Ö…Õ£Õ¿Õ¡Õ¿Õ¥Ö€" to create new users
3. Use checkboxes to select users for bulk operations
4. Edit user details or delete accounts

### Exporting Data

1. Click "Export" button in the businesses section
2. Data downloads as JSON file
3. File includes all businesses and their reviews

---

## ğŸ›ï¸ Armenian Places

The application includes major places in Armenia:

- **ÔµÖ€Ö‡Õ¡Õ¶** - Capital, Cascade, Opera House
- **Ô³ÕµÕ¸Ö‚Õ´Ö€Õ«** - Second largest city
- **ÕÕ¡Õ¶Õ¡Õ±Õ¸Ö€** - Third largest city
- **Ô´Õ«Õ¬Õ«Õ»Õ¡Õ¶** - Armenia's Switzerland
- **ÕÖ‡Õ¡Õ¶** - Largest lake
- **Ô¾Õ¡Õ²Õ¯Õ¡Õ±Õ¸Ö€** - Winter resort
- **Ô³Õ¸Ö€Õ«Õ½** - Cave settlement
- **Õ‹Õ¥Ö€Õ´Õ¸Ö‚Õ¯** - Health resort
- **Ô³Õ¡Õ¼Õ¶Õ«** - Pagan temple
- **Ô³Õ¥Õ²Õ¡Ö€Õ¤** - Cave monastery
- **Ô·Õ»Õ´Õ«Õ¡Õ®Õ«Õ¶** - Armenian Apostolic Church center
- **Ô¶Õ¾Õ¡Ö€Õ©Õ¶Õ¸Ö** - Ancient temple ruins
- **Ô½Õ¸Ö€ ÕÕ«Ö€Õ¡Õº** - Ancient monastery
- **Õ†Õ¸Ö€Õ¡Õ¾Õ¡Õ¶Ö„** - Ancient monastery
- **ÕÕ¡Õ©Ö‡** - Great monastery

---

## ğŸš¨ Troubleshooting

### Common Issues

#### Error 1: "No module named 'app'"

```bash
# Make sure you're in the correct directory
cd ughi_sqlalchemy_mvp
```

#### Error 2: "Permission denied"

```bash
# Database file permissions
chmod 644 instance/ughi.db
```

#### Error 3: "Database is locked"

```bash
# Close all connections and try again
# Or delete database and start over
rm instance/ughi.db
python run.py
```

#### Login Problems

- Check username/password
- Ensure user account is active
- Verify user role and permissions

#### Database Errors

- Verify database connection
- Check file permissions
- Ensure database file exists

### Debug Mode

Enable debug mode in development:

```python
app.run(debug=True)
```

---

## ğŸ”® Future Development

### Planned Features

- [ ] **Advanced Analytics**: More detailed statistics and reports
- [ ] **Audit Logs**: Track all admin actions
- [ ] **API Rate Limiting**: Prevent abuse
- [ ] **Two-Factor Authentication**: Enhanced security
- [ ] **Backup & Restore**: Data management tools
- [ ] **Multi-language Support**: Additional languages

### Integration Possibilities

- **Email Notifications**: User activity alerts
- **External APIs**: Integration with mapping services
- **Mobile App**: Native mobile admin interface
- **Webhooks**: Real-time data synchronization

### User Accounts

- [ ] User registration and profiles
- [ ] Personal review history
- [ ] Favorite places
- [ ] User-generated content

### Enhanced Features

- [ ] Place photos
- [ ] Safety ratings
- [ ] More places - You can add any place in Armenia

---

## ğŸ“ Support

For technical support or feature requests:

1. Check this complete guide for setup instructions
2. Review error logs for debugging
3. Ensure all dependencies are installed
4. Verify database connectivity
5. Check file permissions

### Dependencies Installation

```bash
# Virtual environment activation
source venv/bin/activate

# Required packages installation
pip install flask flask-sqlalchemy werkzeug
```

---

## ğŸ“„ License

MIT License

---

## ğŸ‘¨â€ğŸ’» Author

Ughi (ÕˆÖ‚Õ²Õ«) - Armenia Safety Guide

---

**ğŸ‰ Congratulations! Your Ughi project now automatically sets up everything when you run it!**

**Version**: 2.0.0  
**Last Updated**: 2024  
**Compatibility**: Python 3.7+, Flask 2.0+
